# Architecture Overview

> Architecture documentation for {{project.name}}

## System Overview

{{project.name}} is a {{project.type}} application{{#if project.framework}} built with {{project.framework}}{{/if}}.

{{#if project.description}}
### Purpose

{{project.description}}
{{/if}}

## Tech Stack

| Layer | Technology |
|-------|------------|
| Language | {{capitalize project.language}} |
{{#if project.framework}}
| Framework | {{project.framework}} |
{{/if}}
{{#if detection.buildTool}}
| Build Tool | {{detection.buildTool}} |
{{/if}}
{{#if detection.testing}}
| Testing | {{detection.testing}} |
{{/if}}
{{#if detection.database}}
| Database | {{detection.database}} |
{{/if}}
{{#if detection.styling}}
| Styling | {{detection.styling}} |
{{/if}}

## Directory Structure

```
{{project.name}}/
├── src/
{{#if (hasFramework detection "react")}}
│   ├── components/         # Reusable UI components
│   │   ├── common/         # Generic components (Button, Input, etc.)
│   │   └── features/       # Feature-specific components
│   ├── hooks/              # Custom React hooks
│   ├── contexts/           # React Context providers
{{/if}}
{{#if (hasFramework detection "next")}}
│   ├── app/                # Next.js App Router pages
│   │   ├── (auth)/         # Auth-related routes
│   │   ├── api/            # API routes
│   │   └── layout.tsx      # Root layout
{{/if}}
{{#if (or (hasFramework detection "express") (hasFramework detection "fastapi"))}}
│   ├── routes/             # API route definitions
│   ├── controllers/        # Request handlers
│   ├── services/           # Business logic layer
│   ├── models/             # Data models
│   ├── middleware/         # Express/FastAPI middleware
{{/if}}
│   ├── lib/                # Shared libraries and utilities
│   ├── utils/              # Helper functions
│   ├── types/              # TypeScript type definitions
│   └── config/             # Configuration files
├── tests/                  # Test files
│   ├── unit/               # Unit tests
│   ├── integration/        # Integration tests
│   └── e2e/                # End-to-end tests
├── public/                 # Static assets
└── docs/                   # Documentation
```

## Key Patterns

### Data Flow

```
{{#if (hasFramework detection "react")}}
[User Action] → [Component] → [Hook/Context] → [API Call] → [Server]
                                                   ↓
[UI Update] ← [State Update] ← [Response] ← ← ← ←
{{else if (or (hasFramework detection "express") (hasFramework detection "fastapi"))}}
[Request] → [Middleware] → [Controller] → [Service] → [Repository] → [Database]
                                              ↓
[Response] ← ← ← ← ← ← ← ← ← ← [Business Logic]
{{else}}
[Input] → [Processing] → [Output]
{{/if}}
```

{{#if (hasFramework detection "react")}}
### Component Architecture

1. **Presentational Components**: UI-only, receive data via props
2. **Container Components**: Handle data fetching and state
3. **Page Components**: Route-level components
4. **Layout Components**: Shared layout structure
{{/if}}

{{#if (or (hasFramework detection "express") (hasFramework detection "fastapi"))}}
### API Architecture

1. **Routes**: Define endpoints and HTTP methods
2. **Controllers**: Handle request/response
3. **Services**: Business logic and orchestration
4. **Repositories**: Data access layer
5. **Models**: Data structures and validation
{{/if}}

## Configuration

### Environment Variables

| Variable | Description | Required |
|----------|-------------|----------|
| `NODE_ENV` | Environment (development/production) | Yes |
{{#if detection.database}}
| `DATABASE_URL` | Database connection string | Yes |
{{/if}}
| `API_URL` | Backend API URL | Yes |

### Build Configuration

{{#if detection.buildTool}}
Build tool: **{{detection.buildTool}}**
{{/if}}

## Dependencies

### Production Dependencies

{{#each detection.frameworks}}
- **{{name}}**: {{#if version}}v{{version}}{{else}}latest{{/if}}
{{/each}}

### Development Dependencies

{{#if (eq project.language "typescript")}}
- TypeScript
{{/if}}
{{#if detection.testing}}
- {{detection.testing}}
{{/if}}
{{#if detection.buildTool}}
- {{detection.buildTool}}
{{/if}}

## Extending the Architecture

### Adding a New Feature

1. Create feature directory in `src/features/`
2. Implement components/services
3. Add tests in `tests/`
4. Update documentation

### Adding a New API Endpoint

1. Define route in `src/routes/`
2. Implement controller in `src/controllers/`
3. Add business logic in `src/services/`
4. Write tests
5. Update API documentation

---
*Generated by AIde v{{generated.version}}*
